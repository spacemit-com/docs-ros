sidebar_position: 2

# 5.1.2 Speech to Text (ASR)

## Overview

This guide explains how to use **Automatic Speech Recognition (ASR)** to convert spoken words into text. The process involves capturing audio from a microphone and using a model to transcribe it automatically.

Project repository: [AI Demo Zoo | NLP](https://gitee.com/bianbu/spacemit-demo.git)

## Preparation

### Clone Code

Clone the repository and navigate to the correct directory:

```bash
git clone https://gitee.com/bianbu/spacemit-demo.git
cd spacemit-demo/examples/NLP
```

### Install Environment Dependencies

It is recommended to use a virtual environment for dependency isolation:

```bash
sudo apt install python3-venv

python3 -m venv .venv
source .venv/bin/activate

pip install -r requirements.txt
```

### Detect System Recording Devices

Follow the instructions in the **[Detect System Recording Devices](5.1.1_Voice_Activity_Detection.md#detect-system-recording-devices)** section to check the available recording devices in the system.

## Execute Example Code

Run the ASR example:

```bash
python 03_asr_demo.py
```

![](images/asr.jpg)

After the program starts, press Enter to begin recording. The integrated VAD functionality will automatically determine if there is human speech and stop recording during silence.
The program will start and wait for your command.
- Press **Enter** to begin recording.
- The built-in **Voice Activity Detection (VAD)** will automatically detect speech and stop during silence.

## Parameter Description

| Parameter Name | Description            | Usage                                                        |
| -------------- | ---------------------- | ------------------------------------------------------------ |
| `sld`          | Silence Duration Threshold (seconds) | Speech ends if silence lasts â‰¥ `sld` seconds; <br />- Set to `0` to disable |
| `max_time`     | Maximum Recording Time (seconds) | Automatically stops recording after this duration to prevent long recordings. |
| `channels`     | Audio Channel Count    | Usually set to `1` (mono). <br />- mono input is recommended for speech recognition |
| `rate`         | Sample Rate (Hz)       | Number of samples per second, e.g., `16000` or `48000`. <br />- Must match the model input |
| `device_index` | Input Device Index     | Specify recording device. <br />- Find index using `arecord` or `search_device.py` |